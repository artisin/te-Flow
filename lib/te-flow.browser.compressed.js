!function(t,r){"object"==typeof exports&&"object"==typeof module?module.exports=r():"function"==typeof define&&define.amd?define([],r):"object"==typeof exports?exports.teFlow=r():t.teFlow=r()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,exports,r){"use strict";function n(t){return Array.isArray(t)?t:Array.from(t)}var e=r(1),o=r(2),i=r(3),s=r(5),u=r(9),a=u({constructor:function(t){var r=this;if(r._self=r,r.userOptions={},t){var n=["initArgs","args","this","stream","objReturn","objKeep","flow","flatten","start","res","end"];n.forEach(function(n){r._L.isUdf(t[n])||(r.userOptions[n]=t[n])}),r._L.isUdf(t.memoize)||(r._memoize=t.memoize)}},invoke:function(){for(var t=this,r=new Array(arguments.length),n=0;n<r.length;++n)r[n]=arguments[n];if(t.args=r,t.argsToApply={_fnArgs:[]},!t.count){t.count=1;var e=t.checkOpts(t.args);t.args=e.args,t.argsToApply=e.argsToApply}t.first=t.args.length?t.args.shift():null,t.rest=t.args,t.firstIsFn=t._L.isFn(t.first),t.firstIsUdf=t._L.isUdf(t.first);var o=t.rest[t.rest.length-1];return!t._L.isUdf(o)&&o._fnArgs&&(t.argsToApply._fnArgs=t.rest.pop()._fnArgs),t.process()},checkOpts:function(t){var r=this,n=Object.keys(r.userOptions),e=t[0],o=r._L.isFn(e)?!1:r._L.isObj(e),i=["_stream","_objReturn","_objKeep","_flow","_args","_flatten","_start","_res","_end","_option","_this"],s=!1;if(o){e=e._option?e._option:e;for(var u=Object.keys(e),a=0;a<u.length&&!s;a++)-1!==i.indexOf(u[a])&&(s=!0)}r.streamOpt=[];var f=function(t,n,o){return r._L.isUdf(r.userOptions[t])?r._L.isUdf(e[n])?o:e[n]:r.userOptions[t]};if(r.optList={_kill:f("kill","_kill",!1),_return:f("return","_return",!1),_stream:f("stream","_stream",!0),_objReturn:f("objReturn","_objReturn",!0),_objKeep:f("objKeep","_objKeep",!1),_flow:f("flow","_flow",!1),_flatten:f("flatten","_flatten",!1)},r.optStreamList={_start:f("start","_start",null),_res:f("res","_res",null),_end:f("end","_end",null)},o&&s||n.length){r.userOptions["this"]?r._this=r.userOptions["this"]:r._this=e._this?e._this:null;var c=function(t){return r._L.isFn(t)?t():Object.keys(t).reduce(function(n,e){var o=t[e];return n[e]=r._L.isFn(o)?o():t[e],n},{})};if(r.userOptions.initArgs||r.userOptions.args){var p=r.userOptions.args||r.userOptions.initArgs;r.applyArgs(c(p),!0)}else e._args?r.applyArgs(c(e._args),!0):e._initArgs&&r.applyArgs(c(e._initArgs),!0);r._memoize||(r._memoize=e._memoize===!1?!1:!0),Object.keys(r.optStreamList).forEach(function(t){e[t]&&(r.streamOpt.push(t),null===r.optStreamList[t]&&(r.optStreamList[t]=e[t]))}),n.length||t.shift()}return{args:t,argsToApply:r.argsToApply}},applyOpts:function(t,r){var e=this,o=function(t,r){for(var o=!0;o;){var i=t,s=r;o=!1;var u=n(s),a=u[0],f=u.slice(1);if(void 0===i)return;if(e._L.isArr(i)||(i=[i]),void 0===a)return i;t=a.apply(e._this,i),r=f,o=!0,u=a=f=void 0}},i=function(t,r){var n=e._L.memoize(function(t){return o(t,r)}),i=e._memoize?n:o;return t.map(function(t){var n=i(t,r);return!e._L.isUdf(n)&&n[0]?n[0]:void 0})},s=function(t,r){return e._L.isFn(r)?i(t,r):e._L.isObj(r)?i(t,Object.keys(r).map(function(t){return r[t]})):e._L.isArr(r)?i(t,r):void 0},u=function(t,r,n){return n=n.filter(function(t){return"_start"!==t&&"_res"!==t&&"_end"!==t?t:"_start"===t&&r._start?t:"_res"===t&&r._res?t:"_end"===t&&r._end?t:void 0}),n.reduce(function(t,r){return s(t,e.optStreamList[r])},t)},a=function(t,r,n){var o={_start:!1,_end:!1,_res:!1};return u.apply(e,[t,e._L.defaults(r,o),n])};return this.streamOpt.length?a(t,r,this.streamOpt):t},applyArgs:function(t){var r=arguments.length<=1||void 0===arguments[1]?!1:arguments[1],n=this,e=!1;if(void 0!==t){var o=function(t){n.optList._flow?n.argsToApply._fnArgs.push(t):n.optList._objReturn&&n._L.isObj(t)?!function(){var r=n.optList._objKeep;r=e?!r:r,n.argsToApply._fnArgs=Object.keys(t).map(function(n){var e=void 0;return r&&(e={},e[n]=t[n]),r?e:t[n]})}():(t=n._L.isArr(t)?t:[t],n.argsToApply._fnArgs=t)};r?o(t):!function(){var r=function(t){return n._L.isUdf(t)||(t._this&&(n._this=t._this,delete t._this),n._L.isUdf(t._objKeep)||(e=!0,delete t._objKeep),t._kill===!0&&(n.optList._kill=!0,delete t._kill),t._return===!0&&(n.optList._return=!0,delete t._return)),t};o(function(){if(!n._L.isArr(t)){t=[r(t)];var e=n.applyOpts(t,{_res:!0});return e[0]}return n.applyOpts(r(t),{_res:!0})}()),n.argsToApply._fnArgs=n.optList._flatten?n._L.flatten(n.argsToApply._fnArgs):n.argsToApply._fnArgs,n.argsToApply._fnArgs=n.applyOpts(n.argsToApply._fnArgs,{_end:!0})}()}},process:function(){var t=this;if(!t.optList._kill){if(t.optList._return){var r=t.rest[t.rest.length-1];return t._L.isObj(r)&&"return"===Object.keys(r)[0]?r["return"].apply(t._this,t.argsToApply._fnArgs||[]):t.argsToApply._fnArgs||[]}if(t.firstIsFn){var n=Object.keys(t.argsToApply).length?t.first.apply(t._this,t.applyOpts(t.argsToApply._fnArgs,{_start:!0})):t.first.call(t._this);return t.applyArgs(n),Object.keys(t.argsToApply).length&&t.rest.push(t.argsToApply),t.invoke.apply(t,t.rest)}if(t._L.isObj(t.first)&&t.first["return"]){var e=t.first["return"];return t._L.isFn(e)?e.apply(t._this,t.argsToApply._fnArgs||[]):e}return t._L.isObj(t.first)&&t.first._fnArgs?t.first._fnArgs.length?t.first._fnArgs:void 0:t.firstIsFn||t.firstIsUdf||null===t.first?t._L.isUdf(t.first)&&t.rest.length?(Object.keys(t.argsToApply).length&&t.rest.push(t.argsToApply),t.invoke.apply(t,t.rest)):t.rest.length?void 0:Object.keys(t.argsToApply).length?t.argsToApply._fnArgs:void 0:(t.applyArgs(t.first),Object.keys(t.argsToApply).length&&t.rest.push(t.argsToApply),t.invoke.apply(t,t.rest))}},_L:{flatten:function f(t){var f=function r(t,n){for(var e=0;e<t.length;e++){var o=t[e];Array.isArray(o)?r(o,n):n.push(o)}return n};return f(t,[])},defaults:function(){for(var t=new Array(arguments.length),r=0;r<t.length;++r)t[r]=arguments[r];var n=t.shift();return s(n,t)},memoize:function(t){return i(t)},isFn:function(t){return e(t)},isObj:function(t){return o(t)},isArr:function(t){return Array.isArray(t)},isUdf:function(t){return void 0===t}}});t.exports=function(){for(var t=new Array(arguments.length),r=0;r<t.length;++r)t[r]=arguments[r];if(t.length){var n=new a(this);return n.invoke.apply(n._self,t)}}},function(t,exports){(function(r){function n(t){var r=e(t)?u.call(t):"";return r==o||r==i}function e(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}var o="[object Function]",i="[object GeneratorFunction]",s=r.Object.prototype,u=s.toString;t.exports=n}).call(exports,function(){return this}())},function(t,exports){function r(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}t.exports=r},function(t,exports,r){function n(t,r){if("function"!=typeof t||r&&"function"!=typeof r)throw new TypeError(o);var e=function(){var n=arguments,o=r?r.apply(this,n):n[0],i=e.cache;if(i.has(o))return i.get(o);var s=t.apply(this,n);return e.cache=i.set(o,s),s};return e.cache=new n.Cache,e}var e=r(4),o="Expected a function";n.Cache=e,t.exports=n},function(t,exports){(function(r){function n(t){var r=!1;if(null!=t&&"function"!=typeof t.toString)try{r=!!(t+"")}catch(n){}return r}function e(){}function o(t,r){return s(t,r)&&delete t[r]}function i(t,r){if(C){var n=t[r];return n===T?void 0:n}return K.call(t,r)?t[r]:void 0}function s(t,r){return C?void 0!==t[r]:K.call(t,r)}function u(t,r,n){t[r]=C&&void 0===n?T:n}function a(t){var r=-1,n=t?t.length:0;for(this.clear();++r<n;){var e=t[r];this.set(e[0],e[1])}}function f(){this.__data__={hash:new e,map:P?new P:[],string:new e}}function c(t){var r=this.__data__;return b(t)?o("string"==typeof t?r.string:r.hash,t):P?r.map["delete"](t):g(r.map,t)}function p(t){var r=this.__data__;return b(t)?i("string"==typeof t?r.string:r.hash,t):P?r.map.get(t):v(r.map,t)}function l(t){var r=this.__data__;return b(t)?s("string"==typeof t?r.string:r.hash,t):P?r.map.has(t):h(r.map,t)}function _(t,r){var n=this.__data__;return b(t)?u("string"==typeof t?n.string:n.hash,t,r):P?n.map.set(t,r):d(n.map,t,r),this}function g(t,r){var n=y(t,r);if(0>n)return!1;var e=t.length-1;return n==e?t.pop():G.call(t,n,1),!0}function v(t,r){var n=y(t,r);return 0>n?void 0:t[n][1]}function h(t,r){return y(t,r)>-1}function y(t,r){for(var n=t.length;n--;)if(m(t[n][0],r))return n;return-1}function d(t,r,n){var e=y(t,r);0>e?t.push([r,n]):t[e][1]=n}function A(t,r){var n=null==t?void 0:t[r];return x(n)?n:void 0}function b(t){var r=typeof t;return"number"==r||"boolean"==r||"string"==r&&"__proto__"!==t||null==t}function m(t,r){return t===r||t!==t&&r!==r}function j(t){var r=O(t)?R.call(t):"";return r==w||r==k}function O(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function L(t){return!!t&&"object"==typeof t}function x(t){return null==t?!1:j(t)?I.test(E.call(t)):L(t)&&(n(t)?I:S).test(t)}var T="__lodash_hash_undefined__",w="[object Function]",k="[object GeneratorFunction]",F=/[\\^$.*+?()[\]{}|]/g,S=/^\[object .+?Constructor\]$/,U=r.Array.prototype,z=r.Object.prototype,E=r.Function.prototype.toString,K=z.hasOwnProperty,R=z.toString,I=RegExp("^"+E.call(K).replace(F,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=U.splice,P=A(r,"Map"),C=A(Object,"create");e.prototype=C?C(null):z,a.prototype.clear=f,a.prototype["delete"]=c,a.prototype.get=p,a.prototype.has=l,a.prototype.set=_,t.exports=a}).call(exports,function(){return this}())},function(t,exports,r){(function(n){function e(t,r,n){var e=n?n.length:0;switch(e){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function o(t,r,n,e){return void 0===t||i(t,a[n])&&!f.call(e,n)?r:t}function i(t,r){return t===r||t!==t&&r!==r}var s=r(6),u=r(8),a=n.Object.prototype,f=a.hasOwnProperty,c=u(function(t){return t.push(void 0,o),e(s,void 0,t)});t.exports=c}).call(exports,function(){return this}())},function(t,exports,r){(function(n){function e(t,r){return t="number"==typeof t||A.test(t)?+t:-1,r=null==r?h:r,t>-1&&t%1==0&&r>t}function o(t,r,n){var e=t[r];(!f(e,n)||f(e,b[r])&&!m.call(t,r)||void 0===n&&!(r in t))&&(t[r]=n)}function i(t){return function(r){return null==r?void 0:r[t]}}function s(t,r,n,e){n||(n={});for(var i=-1,s=r.length;++i<s;){var u=r[i],a=e?e(n[u],t[u],u,n,t):t[u];o(n,u,a)}return n}function u(t){return v(function(r,n){var e=-1,o=n.length,i=o>1?n[o-1]:void 0,s=o>2?n[2]:void 0;for(i="function"==typeof i?(o--,i):void 0,s&&a(n[0],n[1],s)&&(i=3>o?void 0:i,o=1),r=Object(r);++e<o;){var u=n[e];u&&t(r,u,i)}return r})}function a(t,r,n){if(!_(n))return!1;var o=typeof r;return("number"==o?c(n)&&e(r,n.length):"string"==o&&r in n)?f(n[r],t):!1}function f(t,r){return t===r||t!==t&&r!==r}function c(t){return null!=t&&!("function"==typeof t&&p(t))&&l(O(t))}function p(t){var r=_(t)?j.call(t):"";return r==y||r==d}function l(t){return"number"==typeof t&&t>-1&&t%1==0&&h>=t}function _(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}var g=r(7),v=r(8),h=9007199254740991,y="[object Function]",d="[object GeneratorFunction]",A=/^(?:0|[1-9]\d*)$/,b=n.Object.prototype,m=b.hasOwnProperty,j=b.toString,O=i("length"),L=u(function(t,r,n){s(r,g(r),t,n)});t.exports=L}).call(exports,function(){return this}())},function(t,exports){(function(r){function n(t,r){for(var n=-1,e=Array(t);++n<t;)e[n]=r(n);return e}function e(t,r){return t="number"==typeof t||O.test(t)?+t:-1,r=null==r?d:r,t>-1&&t%1==0&&r>t}function o(t){for(var r,n=[];!(r=t.next()).done;)n.push(r.value);return n}function i(t){t=null==t?t:Object(t);var r=[];for(var n in t)r.push(n);return r}function s(t){return function(r){return null==r?void 0:r[t]}}function u(t){var r=t?t.length:void 0;return _(r)&&(U(t)||h(t)||f(t))?n(r,String):null}function a(t){var r=t&&t.constructor,n="function"==typeof r&&r.prototype||L;return t===n}function f(t){return p(t)&&x.call(t,"callee")&&(!F.call(t,"callee")||T.call(t)==A)}function c(t){return null!=t&&!("function"==typeof t&&l(t))&&_(S(t))}function p(t){return v(t)&&c(t)}function l(t){var r=g(t)?T.call(t):"";return r==b||r==m}function _(t){return"number"==typeof t&&t>-1&&t%1==0&&d>=t}function g(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function v(t){return!!t&&"object"==typeof t}function h(t){return"string"==typeof t||!U(t)&&v(t)&&T.call(t)==j}function y(t){for(var r=-1,n=a(t),o=i(t),s=o.length,f=u(t),c=!!f,p=f||[],l=p.length;++r<s;){var _=o[r];c&&("length"==_||e(_,l))||"constructor"==_&&(n||!x.call(t,_))||p.push(_)}return p}var d=9007199254740991,A="[object Arguments]",b="[object Function]",m="[object GeneratorFunction]",j="[object String]",O=/^(?:0|[1-9]\d*)$/,L=r.Object.prototype,x=L.hasOwnProperty,T=L.toString,w=r.Reflect,k=w?w.enumerate:void 0,F=L.propertyIsEnumerable;k&&!F.call({valueOf:1},"valueOf")&&(i=function(t){return o(k(t))});var S=s("length"),U=Array.isArray;t.exports=y}).call(exports,function(){return this}())},function(t,exports){(function(r){function n(t,r,n){var e=n?n.length:0;switch(e){case 0:return t.call(r);case 1:return t.call(r,n[0]);case 2:return t.call(r,n[0],n[1]);case 3:return t.call(r,n[0],n[1],n[2])}return t.apply(r,n)}function e(t,r){if("function"!=typeof t)throw new TypeError(a);return r=m(void 0===r?t.length-1:s(r),0),function(){for(var e=arguments,o=-1,i=m(e.length-r,0),s=Array(i);++o<i;)s[o]=e[r+o];switch(r){case 0:return t.call(this,s);case 1:return t.call(this,e[0],s);case 2:return t.call(this,e[0],e[1],s)}var u=Array(r+1);for(o=-1;++o<r;)u[o]=e[o];return u[r]=s,n(t,this,u)}}function o(t){var r=i(t)?b.call(t):"";return r==l||r==_}function i(t){var r=typeof t;return!!t&&("object"==r||"function"==r)}function s(t){if(!t)return 0===t?t:0;if(t=u(t),t===f||t===-f){var r=0>t?-1:1;return r*c}var n=t%1;return t===t?n?t-n:t:0}function u(t){if(i(t)){var r=o(t.valueOf)?t.valueOf():t;t=i(r)?r+"":r}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(g,"");var n=h.test(t);return n||y.test(t)?d(t.slice(2),n?2:8):v.test(t)?p:+t}var a="Expected a function",f=1/0,c=1.7976931348623157e308,p=NaN,l="[object Function]",_="[object GeneratorFunction]",g=/^\s+|\s+$/g,v=/^[-+]0x[0-9a-f]+$/i,h=/^0b[01]+$/i,y=/^0o[0-7]+$/i,d=parseInt,A=r.Object.prototype,b=A.toString,m=Math.max;t.exports=e}).call(exports,function(){return this}())},function(t,exports,r){!function(r,n){t.exports=n()}(this,function(){return function(t){function r(e){if(n[e])return n[e].exports;var o=n[e]={exports:{},id:e,loaded:!1};return t[e].call(o.exports,o,o.exports,r),o.loaded=!0,o.exports}var n={};return r.m=t,r.c=n,r.p="",r(0)}([function(t,exports){"use strict";var r=function(t){var r=t.constructor;return r.prototype=t,r};r.extend=function(t,n){var e=Object.create(t.prototype);for(var o in n)e[o]=n[o];return r(e)},t.exports=r}])})}])});